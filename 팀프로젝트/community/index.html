<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>공식홈페이지 – 커뮤니티</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <!-- Hero -->
    <!-- <div class="upmenu"></div> -->
    <section class="hero">
      <div class="container">
        <div class="title">커뮤니티</div>
        <div class="sub">함께 묻고 답하며 성장하는 공간</div>

        <div class="hero-row">
          <div class="chip">🔥 오늘의 인기글</div>
          <div class="chip">✨ 새로 올라온 글</div>
          <div class="chip">📌 공지 확인</div>
        </div>
      </div>
    </section>

    <!-- Community Main -->
    <main class="community">
      <div class="container grid">
        <!-- Sidebar -->
        <aside class="side">
          <h4>카테고리</h4>
          <nav class="catlist" aria-label="커뮤니티 카테고리">
            <a href="#"
              ><span>자유게시판</span><span class="badge">128</span></a
            >
            <a href="#"><span>Q&amp;A</span><span class="badge">64</span></a>
            <a href="#"><span>자료실</span><span class="badge">23</span></a>
            <a href="#"><span>공지사항</span><span class="badge">5</span></a>
            <a href="#"
              ><span>문의 게시판</span><span class="badge">12</span></a
            >
            <a href="#"><span>수강 후기</span><span class="badge">41</span></a>
            <a href="#"><span>강사 후기</span><span class="badge">9</span></a>
            <a href="#"
              ><span>프로그램 다운로드</span><span class="badge">7</span></a
            >
          </nav>

          <div class="tools">
            <div class="search" role="search">
              <input
                type="search"
                placeholder="검색어를 입력하세요"
                aria-label="커뮤니티 검색"
              />
              <button class="btn" type="button">검색</button>
            </div>
            <button class="btn brand" type="button">+ 글 쓰기</button>
          </div>
        </aside>

        <!-- Content Column -->
        <div class="content-col">
          <!-- Notice -->
          <div class="notice" role="note" aria-label="공지">
            <div class="mark">N</div>
            <div>
              <strong>새 학기/모집 일정 안내</strong>
              <div
                class="submeta"
                style="color: var(--muted); font-size: 0.92rem"
              >
                공지사항 · 2025-09-01
              </div>
            </div>
          </div>

          <!-- Tabs -->
          <div class="tabs" role="tablist" aria-label="보기 필터">
            <a class="tab active" role="tab" aria-selected="true" href="#"
              >전체</a
            >
            <a class="tab" role="tab" href="#">공지</a>
            <a class="tab" role="tab" href="#">Q&amp;A</a>
            <a class="tab" role="tab" href="#">자유</a>
            <a class="tab" role="tab" href="#">자료실</a>
          </div>

          <!-- Category Cards -->
          <div class="cards" aria-label="바로가기">
            <article class="card">
              <div class="meta">📌 공지사항</div>
              <div class="title"><a href="#">운영 정책 및 에티켓</a></div>
              <div class="excerpt">
                원활한 커뮤니티 운영을 위한 가이드라인을 확인하세요.
              </div>
            </article>
            <article class="card">
              <div class="meta">❓ Q&amp;A</div>
              <div class="title">
                <a href="#">스프링 의존성 주입이 잘 안돼요</a>
              </div>
              <div class="excerpt">
                @Autowired와 생성자 주입 차이와 설정 팁 정리.
              </div>
            </article>
            <article class="card">
              <div class="meta">💬 자유게시판</div>
              <div class="title"><a href="#">스터디 모집(대전/주말)</a></div>
              <div class="excerpt">
                SQL·자료구조 중심 오프라인 스터디 팀원 구합니다.
              </div>
            </article>
            <article class="card">
              <div class="meta">📚 자료실</div>
              <div class="title"><a href="#">JSP/Servlet 샘플 프로젝트</a></div>
              <div class="excerpt">
                로컬에서 바로 돌릴 수 있는 템플릿과 문서 포함.
              </div>
            </article>
          </div>

          <!-- Feed -->
          <section class="feed" aria-label="최신 글">
            <article class="post">
              <div class="headline">
                <span class="pill">Q&amp;A</span>
                <a class="title" href="#">MySQL 트리거 에러(1442) 해결</a>
              </div>
              <div class="submeta">오늘 · 댓글 5 · 조회 132</div>
            </article>
            <article class="post">
              <div class="headline">
                <span class="pill">자유</span>
                <a class="title" href="#">포트폴리오 메인 색 뭐가 좋을까?</a>
              </div>
              <div class="submeta">어제 · 댓글 12 · 조회 409</div>
            </article>
            <article class="post">
              <div class="headline">
                <span class="pill">자료실</span>
                <a class="title" href="#">HTTP 상태 코드 치트시트 PDF</a>
              </div>
              <div class="submeta">3일 전 · 댓글 2 · 조회 98</div>
            </article>

            <div class="paginate" role="navigation" aria-label="페이지네이션">
              <a class="page" href="#">‹</a>
              <a class="page active" href="#">1</a>
              <a class="page" href="#">2</a>
              <a class="page" href="#">3</a>
              <a class="page" href="#">›</a>
            </div>
          </section>

          <div class="spacer"></div>
        </div>
      </div>
    </main>
  </body>
  <script>
    // 메뉴 프래그먼트 로더 (상대경로 안전)
    document.addEventListener("DOMContentLoaded", async () => {
      const target = document.querySelector(".upmenu");
      if (!target) return;

      // ① 현재 페이지 기준 상대경로 사용
      const url = new URL("../menu.html", window.location.href);

      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const html = await res.text();
        target.innerHTML = html;

        // (선택) menu.html 내부에 <script>가 있다면 실행되도록 처리
        target.querySelectorAll("script").forEach((old) => {
          const s = document.createElement("script");
          if (old.src) {
            s.src = old.src;
          } else {
            s.textContent = old.textContent;
          }
          document.body.appendChild(s);
          old.remove();
        });
      } catch (err) {
        console.error("메뉴 로드 실패:", err);
        target.innerHTML = `
        <div style="padding:8px 12px; background:#fee; color:#900; border-radius:8px;">
          메뉴를 불러오지 못했습니다. (<code>${url.pathname}</code>)
        </div>`;
      }
    });
  </script>
</html>
